<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Instrument database · Stripeline.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Stripeline.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../basic/">Basic functions</a></li><li class="is-active"><a class="tocitem" href>Instrument database</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Structures"><span>Structures</span></a></li><li><a class="tocitem" href="#High-level-access-functions"><span>High-level access functions</span></a></li><li><a class="tocitem" href="#Loading-custom-databases"><span>Loading custom databases</span></a></li></ul></li><li><a class="tocitem" href="../tod/">Time-ordered data</a></li><li><a class="tocitem" href="../scanning/">Scanning strategy</a></li><li><a class="tocitem" href="../noise/">Noise generation</a></li><li><a class="tocitem" href="../prm/">Pointing Reconstruction Model</a></li><li><a class="tocitem" href="../acquisition/">Data acquisition</a></li><li><a class="tocitem" href="../mapmaking/">Map making</a></li><li><a class="tocitem" href="../simulation_tutorial/">Full-scale simulation tutorial</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Instrument database</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Instrument database</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/lspestrip/Stripeline.jl/blob/master/docs/src/instrumentdb.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="The-Strip-Instrument-Database"><a class="docs-heading-anchor" href="#The-Strip-Instrument-Database">The Strip Instrument Database</a><a id="The-Strip-Instrument-Database-1"></a><a class="docs-heading-anchor-permalink" href="#The-Strip-Instrument-Database" title="Permalink"></a></h1><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>Every simulator of a scientific experiment needs an «instrument database», i.e., a way to access the specification of the instrument to be simulated. The kind of information stored in this database is the following:</p><ul><li>How many detectors are present in the instrument, and what are   their characteristics in terms of noise and placement on the focal   plane;</li><li>What is the response of the optical elements, i.e., the so-called   <em>beam function</em>;</li><li>Which frequencies can be measured by each detector (the so-called   <em>bandpass</em>);</li><li>Ect.</li></ul><p>Stripeline implements an instrument database using <a href="https://en.wikipedia.org/wiki/YAML">YAML files</a> and two data structures, <a href="#Stripeline.Detector"><code>Detector</code></a> and <a href="#Stripeline.Horn"><code>Horn</code></a>, plus some functions to easily access the information in them.</p><p>The following example initializes an object of type <a href="#Stripeline.InstrumentDB"><code>InstrumentDB</code></a> with the values referred to the standard STRIP instrument:</p><pre><code class="language-julia-repl">
julia&gt; db = InstrumentDB()
InstrumentDB(55 horns, 66 detectors)</code></pre><p>This command loads the YAML files provided in the Stripeline repository and initializes the <code>db</code> object. As <code>db</code> is a <code>struct</code>, its field can be accessed with the usual dot notation. The two fields in <code>db</code> are <code>focalplane</code> and <code>detectors</code>. They are both dictionaries, associating horn names to <code>Horn</code> objects and detectors IDs to <code>Detector</code> objects, respectively:</p><pre><code class="language-julia-repl">julia&gt; db.focalplane[&quot;I0&quot;]
Horn I0, module 0 (indigo), STRIP31:
    Orientation: [0.0000, 0.0000, 1.0000]
    FWHM (X/Y): 0.3470 × 0.3440 °
    Spillover: 0.016704 (main), 0.013964 (sub)
    Cross-polarization: 44.53 dB
    Directivity: 54.76 dBi
    Ellipticity: 1.0080

julia&gt; db.detectors[2]
Detector STRIP02 (Q band):
    Center frequency: 43.39 ± 0.13 GHz
    Bandwidth: 7.58 ± 0.87 GHz
    Noise temperature: 31.5 ± 3.92 K
    Knee frequency: 90.0 ± 40.0 mHz (Q), 70.0 ± 40.0 mHz (U)</code></pre><p>A number of high-level functions ease the access of the fields in a <a href="#Stripeline.InstrumentDB"><code>InstrumentDB</code></a> object:</p><ul><li><a href="#Stripeline.detector"><code>detector</code></a> returns a <a href="#Stripeline.Detector"><code>Detector</code></a> structure, containing the details of a polarimeter;</li><li><a href="#Stripeline.bandpass"><code>bandpass</code></a> returns a <a href="#Stripeline.BandshapeInfo"><code>BandshapeInfo</code></a> structure, containing the shape of the bandpass of a detector;</li><li><a href="#Stripeline.spectrum"><code>spectrum</code></a> returns a <a href="#Stripeline.SpectrumInfo"><code>SpectrumInfo</code></a></li><li><a href="#Stripeline.fknee_hz"><code>fknee_hz</code></a> returns the knee frequency of the 1/f noise for the I, Q, and U signals, adapted to the brightness temperature of the load being observed by the detector;</li><li><a href="#Stripeline.tnoise"><code>tnoise</code></a> returns the noise temperature for the I, Q, and U components.</li></ul><p>The structure <code>Detector</code> uses three structures to organize its data in a hierarchical way:</p><ul><li><a href="#Stripeline.BandshapeInfo"><code>BandshapeInfo</code></a></li><li><a href="#Stripeline.SpectrumInfo"><code>SpectrumInfo</code></a></li><li><a href="#Stripeline.NoiseTemperatureInfo"><code>NoiseTemperatureInfo</code></a></li></ul><p>All these structures know how to show themselves on the REPL:</p><pre><code class="language-julia-repl">julia&gt; db.detectors[2].bandshape
Bandshape:
    Center frequency: 43.39 ± 0.13 GHz
    Bandwidth: 7.58 ± 0.87 GHz
    Frequency range: [38.00, 50.00] GHz (121 points)
    Test ID: [355, 356]
    Analysis ID: 89

julia&gt; db.detectors[2].spectrum
Noise spectrum:
    Slope: I = 0.8585 ± 0.0000, Q = 0.6420 ± 0.0030, U = 0.3680 ± 0.0030
    Knee frequency: I = 0.0 ± 0.0 mHz, Q = 90.0 ± 40.0 mHz, U = 70.0 ± 40.0 mHz
    White noise: Q = 5.0 ± 1.0 mK^2 Hz, U = 2.6 ± 0.6 mK^2 Hz
    System brightness temperature: 20.0 K
    Test ID: 357
    Analysis ID: 15

julia&gt; db.detectors[2].tnoise
Noise temperature:
    Tnoise: 31.5 ± 3.9 K
    Estimates: [26.7, 27.1, 27.6, 28.2, 30.1, 31.1, 32.0, 33.6, 34.0, 35.1, 36.2, 39.7] K
    Test IDs: []
    Analysis IDs: [105, 106]</code></pre><p>Some of them have the ability to be plotted using <a href="https://github.com/JuliaPlots/Plots.jl">Plots.jl</a>:</p><pre><code class="language-julia-repl">julia&gt; using Plots

julia&gt; plot(db.detectors[2].bandshape)
Plot{Plots.GRBackend() n=1}</code></pre><p><img src="../instrumentdb-bandshape.svg" alt/></p><p>For more information about the fields in the structures listed above, as well as their meaning, keep reading.</p><h2 id="Structures"><a class="docs-heading-anchor" href="#Structures">Structures</a><a id="Structures-1"></a><a class="docs-heading-anchor-permalink" href="#Structures" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Stripeline.InstrumentDB" href="#Stripeline.InstrumentDB"><code>Stripeline.InstrumentDB</code></a> — <span class="docstring-category">Type</span></header><section><div><p>STRIP instrument database</p><p>The &quot;database&quot; contains information about feed horns and polarimeters:</p><ul><li><p>The field <code>focalplane</code> is a dictionary (mapping) associating the string identifying a horn (e.g., <code>I0</code>) with a <a href="#Stripeline.Horn"><code>Horn</code></a> structure;</p></li><li><p>The field <code>detectors</code> is a dictionary associating the ID of the polarimeter (e.g., 2 stands for <code>STRIP02</code>) with a <a href="#Stripeline.Detector"><code>Detector</code></a> structure.</p></li></ul><p>You should usually create an object of this kind using the default constructor, which parses a set of YAML files containing the real parameters of the instrument.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; db = InstrumentDB();

julia&gt; print(&quot;Number of horns in the database: $(length(keys(db.focalplane)))&quot;)
Number of horns in the database: 55

julia&gt; print(&quot;Number of polarimeters in the database: $(length(keys(db.detectors)))&quot;)
Number of polarimeters in the database: 66</code></pre><p><strong>Visualization</strong></p><p>You can produce a table describing the contents of the instrument database using <code>show</code> and passing <code>text/markdown</code> as MIME type:</p><pre><code class="language-julia">db = InstrumentDB()
show(stdout, MIME(&quot;text/markdown&quot;), db)</code></pre><p>The table can be converted to other formats (HTML, LaTeX, Microsoft Word, …) using commonly-available tools, e.g., <a href="https://pandoc.org/">Pandoc</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L467-L508">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.Horn" href="#Stripeline.Horn"><code>Stripeline.Horn</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Information about a STRIP horn</p><p>This structure holds a number of parameters relative to each feed horn in the STRIP focal plane.</p><p>You should initialize <code>Horn</code> objects via the <code>InstrumentDB</code> constructor, which loads their definition from a STRIP instrument database in YAML format.</p><table><tr><th style="text-align: left">Field</th><th style="text-align: left">Type</th><th style="text-align: left">Meaning</th></tr><tr><td style="text-align: left"><code>name</code></td><td style="text-align: left">String</td><td style="text-align: left">Name of the horn, e.g., <code>I0</code></td></tr><tr><td style="text-align: left"><code>id</code></td><td style="text-align: left">Int</td><td style="text-align: left">Unique number of the horn, starting from 1</td></tr><tr><td style="text-align: left"><code>polid</code></td><td style="text-align: left">Int</td><td style="text-align: left">Unique ID of the polarimeter associated with the horn</td></tr><tr><td style="text-align: left"><code>polarizerid</code></td><td style="text-align: left">Int</td><td style="text-align: left">Unique ID of the polarizer+OMT associated with the horn</td></tr><tr><td style="text-align: left"><code>moduleid</code></td><td style="text-align: left">Int</td><td style="text-align: left">Number of the horn within the module, from 0 to 6</td></tr><tr><td style="text-align: left"><code>color</code></td><td style="text-align: left">String</td><td style="text-align: left">Name of the color associated with the module</td></tr><tr><td style="text-align: left"><code>orientation</code></td><td style="text-align: left">Array{Float64}</td><td style="text-align: left">3D vector containing the orientation of the horn in the sky</td></tr><tr><td style="text-align: left"><code>fwhm_x_deg</code></td><td style="text-align: left">Float64</td><td style="text-align: left">FWHM of the beam along the X axis, in degrees</td></tr><tr><td style="text-align: left"><code>fwhm_y_deg</code></td><td style="text-align: left">Float64</td><td style="text-align: left">FWHM of the beam along the Y axis, in degrees</td></tr><tr><td style="text-align: left"><code>main_spillover</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Main reflector spillover</td></tr><tr><td style="text-align: left"><code>sub_spillover</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Sub-reflector spillover</td></tr><tr><td style="text-align: left"><code>xpd_db</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Cross-polarization, in dB</td></tr><tr><td style="text-align: left"><code>directivity_dbi</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Directivity, in dBi</td></tr><tr><td style="text-align: left"><code>ellipticity</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Ellipticity</td></tr></table></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L17-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.Detector" href="#Stripeline.Detector"><code>Stripeline.Detector</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Information about a STRIP detector</p><p>This structure holds information about a STRIP polarimeter.</p><p>You should initialize <code>Detector</code> objects via the <code>InstrumentDB</code> constructor, which loads their definition from a local STRIP instrument database.</p><table><tr><th style="text-align: left">Field</th><th style="text-align: left">Type</th><th style="text-align: left">Meaning</th></tr><tr><td style="text-align: left"><code>id</code></td><td style="text-align: left">Int</td><td style="text-align: left">Integer ID of the polarimeter, e.g., <code>2</code> for <code>STRIP02</code></td></tr><tr><td style="text-align: left"><code>name</code></td><td style="text-align: left">String</td><td style="text-align: left">Full name of the polarimeter, e.g., <code>STRIP02</code></td></tr><tr><td style="text-align: left"><code>band</code></td><td style="text-align: left">String</td><td style="text-align: left">Band: it can either be <code>Q</code> or <code>W</code></td></tr><tr><td style="text-align: left"><code>bandshape</code></td><td style="text-align: left">BandshapeInfo</td><td style="text-align: left">Information about the bandpass response</td></tr><tr><td style="text-align: left"><code>spectrum</code></td><td style="text-align: left">SpectrumInfo</td><td style="text-align: left">Information about the noise spectrum (white noise and 1/f noise)</td></tr><tr><td style="text-align: left"><code>tnoise</code></td><td style="text-align: left">NoiseTemperatureInfo</td><td style="text-align: left">Information about the noise temperature</td></tr></table></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L421-L437">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.BandshapeInfo" href="#Stripeline.BandshapeInfo"><code>Stripeline.BandshapeInfo</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">BandshapeInfo</code></pre><p>Information about the spectral band response of a polarimeter.</p><table><tr><th style="text-align: left">Field</th><th style="text-align: left">Type</th><th style="text-align: left">Meaning</th></tr><tr><td style="text-align: left"><code>center_frequency_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Estimate for the center frequency, in Hz</td></tr><tr><td style="text-align: left"><code>center_frequency_err_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Estimated error on the center frequency, in Hz</td></tr><tr><td style="text-align: left"><code>bandwidth_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Estimated bandwidth, in Hz</td></tr><tr><td style="text-align: left"><code>bandwidth_err_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Estimated error on the bandwidth, in Hz</td></tr><tr><td style="text-align: left"><code>lowest_frequency_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Lowest frequency of the bandshape in <code>response</code>, in Hz</td></tr><tr><td style="text-align: left"><code>highest_frequency_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Highest frequency of the bandshape in <code>response</code>, in Hz</td></tr><tr><td style="text-align: left"><code>num_of_frequencies</code></td><td style="text-align: left">Int</td><td style="text-align: left">Number of samples in <code>response</code></td></tr><tr><td style="text-align: left"><code>bandshape</code></td><td style="text-align: left">Array{Float64,1}</td><td style="text-align: left">Profile of the bandshape (pure numbers)</td></tr><tr><td style="text-align: left"><code>bandshape_error</code></td><td style="text-align: left">Array{Float64,1}</td><td style="text-align: left">Estimated error on the profile of the bandshape</td></tr><tr><td style="text-align: left"><code>test_id</code></td><td style="text-align: left">Array{Int,1}</td><td style="text-align: left">ID of the unit-level test used to characterize the bandshape</td></tr><tr><td style="text-align: left"><code>analysis_id</code></td><td style="text-align: left">Int</td><td style="text-align: left">ID of the unit-level analysis used to characterize the bandshape</td></tr></table><p>You can plot a <code>BandshapeInfo</code> object by importing <code>Plots</code> and using <code>plot</code>:</p><pre><code class="language-julia">db = InstrumentDB()
plot(bandpass(db, &quot;I0&quot;), show_error = true)</code></pre><p>The following keywords are recognized in the call to <code>plot</code>:</p><ul><li><code>show_error</code> (default: <code>true</code>): include an error bar.</li><li><code>show_centerfreq</code> (default: <code>false</code>): include a vertical bar showing the position of the center frequency</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L82-L114">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.bandshape" href="#Stripeline.bandshape"><code>Stripeline.bandshape</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">bandshape(bandinfo::BandshapeInfo) -&gt; Tuple{Array{Float64, 1}, Array{Float64, 1}}
bandshape(db::InstrumentDB, polid::Integer) -&gt; Tuple{Array{Float64, 1}, Array{Float64, 1}}
bandshape(db::InstrumentDB, horn_name::AbstractString) -&gt; Tuple{Array{Float64, 1}, Array{Float64, 1}}</code></pre><p>Return a pair <code>(ν_hz, B, Berr)</code> containing the shape of the bandpass in <code>bandinfo</code> (first form), or the bandpass taken from the instrument database (second and third form). The two elements of the tuple <code>(ν_hz, B)</code> are two arrays of the same length containing the frequencies (in Hz) and the bandpass response at the same frequency (pure number), and they are suitable to be plotted, like in the following example:</p><pre><code class="language-julia">db = InstrumentDB()
x, y, err = bandshape(db, &quot;G2&quot;)
plot(x, y, ribbon=(err, err))   # Plot the bandpass and the error bar</code></pre><p>However, it is easier just to use <code>plot</code> on a <a href="#Stripeline.BandshapeInfo"><code>BandshapeInfo</code></a> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L193-L215">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.SpectrumInfo" href="#Stripeline.SpectrumInfo"><code>Stripeline.SpectrumInfo</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SpectrumInfo</code></pre><p>Information about the noise spectrum of the output of a polarimeter.</p><table><tr><th style="text-align: left">Field</th><th style="text-align: left">Type</th><th style="text-align: left">Meaning</th></tr><tr><td style="text-align: left"><code>slope_i</code></td><td style="text-align: left">Float64</td><td style="text-align: left">The slope (<span>$\alpha$</span>) of the 1/f component of the noise in the I signal</td></tr><tr><td style="text-align: left"><code>slope_i_err</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Error associated with the value of <code>slope_i</code></td></tr><tr><td style="text-align: left"><code>slope_q</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Same as <code>slope_i</code>, but for the Q signal</td></tr><tr><td style="text-align: left"><code>slope_q_err</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Error associated with the value of <code>slope_q</code></td></tr><tr><td style="text-align: left"><code>slope_u</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Same as <code>slope_i</code>, but for the U signal</td></tr><tr><td style="text-align: left"><code>slope_u_err</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Error associated with the value of <code>slope_u</code></td></tr><tr><td style="text-align: left"><code>fknee_i_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Knee frequency of the I signal, in Hz</td></tr><tr><td style="text-align: left"><code>fknee_i_err_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Error associated with the value of <code>fknee_i_hz</code></td></tr><tr><td style="text-align: left"><code>fknee_q_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Knee frequency of the Q signal, in Hz</td></tr><tr><td style="text-align: left"><code>fknee_q_err_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Error associated with the value of <code>fknee_q_hz</code></td></tr><tr><td style="text-align: left"><code>fknee_u_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Knee frequency of the U signal, in Hz</td></tr><tr><td style="text-align: left"><code>fknee_u_err_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Error associated with the value of <code>fknee_u_hz</code></td></tr><tr><td style="text-align: left"><code>wn_i_k2_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">White noise level for the I signal, in K^2 Hz</td></tr><tr><td style="text-align: left"><code>wn_i_err_k2_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Error associated with the value of <code>wn_i_k2_hz</code></td></tr><tr><td style="text-align: left"><code>wn_q_k2_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">White noise level for the Q signal, in K^2 Hz</td></tr><tr><td style="text-align: left"><code>wn_q_err_k2_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Error associated with the value of <code>wn_q_k2_hz</code></td></tr><tr><td style="text-align: left"><code>wn_u_k2_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">White noise level for the U signal, in K^2 Hz</td></tr><tr><td style="text-align: left"><code>wn_u_err_k2_hz</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Error associated with the value of <code>wn_u_k2_hz</code></td></tr><tr><td style="text-align: left"><code>i_fit_parameters_k2_hz</code></td><td style="text-align: left">Vector{Float32}</td><td style="text-align: left">Fit coefficients for the I spectrum in K²/Hz, or <code>nothing</code></td></tr><tr><td style="text-align: left"><code>q_fit_parameters_k2_hz</code></td><td style="text-align: left">Vector{Float32}</td><td style="text-align: left">Fit coefficients for the Q spectrum in K²/Hz, or <code>nothing</code></td></tr><tr><td style="text-align: left"><code>u_fit_parameters_k2_hz</code></td><td style="text-align: left">Vector{Float32}</td><td style="text-align: left">Fit coefficients for the U spectrum in K²/Hz, or <code>nothing</code></td></tr><tr><td style="text-align: left"><code>pwr_cov_matrix_k2</code></td><td style="text-align: left">Symmetric{4}</td><td style="text-align: left">Covariance matrix of the signals Q1, Q2, U1, U2 (PWR) in K² or <code>nothing</code></td></tr><tr><td style="text-align: left"><code>dem_cov_matrix_k2</code></td><td style="text-align: left">Symmetric{4}</td><td style="text-align: left">Covariance matrix of the signals Q1, Q2, U1, U2 (DEM) in K² or <code>nothing</code></td></tr><tr><td style="text-align: left"><code>iqu_cov_matrix_k2</code></td><td style="text-align: left">Symmetric{3}</td><td style="text-align: left">Covariance matrix of I = ∑PWR / 4, Q = (Q1 + Q2) / 2, U = (U1 + U2) / 2</td></tr><tr><td style="text-align: left"><code>load_temperature_k</code></td><td style="text-align: left">Float64</td><td style="text-align: left">System brightness temperature used during the tests (in K)</td></tr><tr><td style="text-align: left"><code>test_id</code></td><td style="text-align: left">Int</td><td style="text-align: left">ID of the unit-level test used to characterize the bandshape</td></tr><tr><td style="text-align: left"><code>analysis_id</code></td><td style="text-align: left">Int</td><td style="text-align: left">ID of the unit-level analysis used to characterize the bandshape</td></tr></table><p>You can quickly plot the theoretical shape of the noise power spectrum using <code>plot</code> on a <code>SpectrumInfo</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L226-L264">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.NoiseFitParams" href="#Stripeline.NoiseFitParams"><code>Stripeline.NoiseFitParams</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">NoiseFitParams = SVector{3, Float32}</code></pre><p>An array of three parameters describing the PSD of the noise for some output.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L218-L223">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.NoiseTemperatureInfo" href="#Stripeline.NoiseTemperatureInfo"><code>Stripeline.NoiseTemperatureInfo</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">NoiseTemperatureInfo</code></pre><p>Information about the noise temperature of a polarimeter. This structure is used for the field <code>tnoise</code> of the <code>Detector</code> struct.</p><table><tr><th style="text-align: left">Field</th><th style="text-align: left">Type</th><th style="text-align: left">Meaning</th></tr><tr><td style="text-align: left"><code>tnoise_k</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Noise temperature computed from <code>tnoise_values_k</code>, in K</td></tr><tr><td style="text-align: left"><code>tnoise_err_k</code></td><td style="text-align: left">Float64</td><td style="text-align: left">Error associated with <code>tnoise_k</code>, computed from <code>tnoise_values_k</code></td></tr><tr><td style="text-align: left"><code>test_ids</code></td><td style="text-align: left">Array{Int,1}</td><td style="text-align: left">List of unit-level test IDs used to estimate the noise temperature</td></tr><tr><td style="text-align: left"><code>analysis_ids</code></td><td style="text-align: left">Array{Int,1}</td><td style="text-align: left">List of unit-level analysis report IDs used to estimate the noise temperature</td></tr><tr><td style="text-align: left"><code>values_k</code></td><td style="text-align: left">Array{Float64,1}</td><td style="text-align: left">List of noise temperatures estimated from the tests</td></tr></table></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L373-L386">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.oof_noise_k2_hz" href="#Stripeline.oof_noise_k2_hz"><code>Stripeline.oof_noise_k2_hz</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">oof_noise_k2_hz(fit_coeffs::Union{Vector{Float64}, Nothing}, nu)</code></pre><p>Compute the amount of power (in K²/Hz) associated with 1/f noise, given a set of fitting coefficients for the function <span>$f(\nu) = \nu^a e^b + e^c$</span>. This is the same as <a href="#Stripeline.noise_k2_hz"><code>noise_k2_hz</code></a>, but it returns the 1/f part only.</p><p>The fitting coefficients are usually taken from a <a href="#Stripeline.SpectrumInfo"><code>SpectrumInfo</code></a> structure, namely in the three fields <code>i_fit_parameters_k2_hz</code>, <code>q_fit_parameters_k2_hz</code>, and <code>u_fit_parameters_k2_hz</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L700-L713">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.white_noise_k2_hz" href="#Stripeline.white_noise_k2_hz"><code>Stripeline.white_noise_k2_hz</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">white_noise_k2_hz(fit_coeffs::Union{Vector{Float64}, Nothing}, nu)</code></pre><p>Compute the amount of power (in K²/Hz) associated with white noise, given a set of fitting coefficients for the function <span>$f(\nu) = \nu^a e^b + e^c$</span>. This is the same as <a href="#Stripeline.noise_k2_hz"><code>noise_k2_hz</code></a>, but it returns the white noise part only.</p><p>The fitting coefficients are usually taken from a <a href="#Stripeline.SpectrumInfo"><code>SpectrumInfo</code></a> structure, namely in the three fields <code>i_fit_parameters_k2_hz</code>, <code>q_fit_parameters_k2_hz</code>, and <code>u_fit_parameters_k2_hz</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L721-L734">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.noise_k2_hz" href="#Stripeline.noise_k2_hz"><code>Stripeline.noise_k2_hz</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">noise_k2_hz(fit_coeffs::Union{Vector{Float64}, Nothing}, nu)</code></pre><p>Compute the amount of power (in K²/Hz) associated with 1/f plus white noise, given a set of fitting coefficients for the function <span>$f(\nu) = \nu^a e^b + e^c$</span>. This is the kind of function fitted by the code that analyzed the unit-test data.</p><p>The fitting coefficients are usually taken from a <a href="#Stripeline.SpectrumInfo"><code>SpectrumInfo</code></a> structure, namely in the three fields <code>i_fit_parameters_k2_hz</code>, <code>q_fit_parameters_k2_hz</code>, and <code>u_fit_parameters_k2_hz</code>.</p><p>To compute the 1/f and white noise parts separately, you can use <a href="#Stripeline.oof_noise_k2_hz"><code>oof_noise_k2_hz</code></a> and <a href="#Stripeline.white_noise_k2_hz"><code>white_noise_k2_hz</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L742-L758">source</a></section></article><h2 id="High-level-access-functions"><a class="docs-heading-anchor" href="#High-level-access-functions">High-level access functions</a><a id="High-level-access-functions-1"></a><a class="docs-heading-anchor-permalink" href="#High-level-access-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Stripeline.detector" href="#Stripeline.detector"><code>Stripeline.detector</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">detector(db::InstrumentDB, polid::Integer) -&gt; Detector
detector(db::InstrumentDB, horn_name::AbstractString) -&gt; Detector</code></pre><p>Return a <a href="#Stripeline.Detector"><code>Detector</code></a> structure, taken from the instrument database. If the form with <code>polid</code> is used, <code>polid</code> is the progressive number of the polarimeter; e.g., for <code>STRIP02</code>, <code>polid == 2</code>. In the second form, you pass the string identifying the horn on the focal plane, e.g., <code>I0</code>, <code>W3</code>, etc.</p><pre><code class="language-julia">db = InstrumentDB()
pol1 = detector(db, 16)   # Get information about STRIP16
pol2 = detector(db, &quot;V4&quot;) # Get information about the detector connected to horn V4</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L835-L851">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.bandpass" href="#Stripeline.bandpass"><code>Stripeline.bandpass</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">bandpass(db::InstrumentDB, polid::Integer) -&gt; BandshapeInfo
bandpass(db::InstrumentDB, horn_name::AbstractString) -&gt; BandshapeInfo</code></pre><p>Return a pair <code>(ν_hz, B)</code> containing the bandpass <code>B</code> for the horn with the specified ID (<code>polid</code>) or associated to some horn (<code>horn_name</code>). To understand how <code>polid</code> and <code>horn_name</code> work, see the documentation for <a href="#Stripeline.detector"><code>detector</code></a>.</p><p>The two elements of the tuple <code>(ν_hz, B)</code> are two arrays of the same length containing the frequencies (in Hz) and the bandpass response at the same frequency (pure number).</p><pre><code class="language-julia">db = InstrumentDB()
x, y = bandpass(db, &quot;G2&quot;)
plot(x, y)   # Plot the bandpass</code></pre><p>See also <a href="#Stripeline.bandshape"><code>bandshape</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L861-L882">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.spectrum" href="#Stripeline.spectrum"><code>Stripeline.spectrum</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">spectrum(db::InstrumentDB, polid::Integer) -&gt; SpectrumInfo
spectrum(db::InstrumentDB, horn_name::AbstractString) -&gt; SpectrumInfo</code></pre><p>Return a <a href="#Stripeline.SpectrumInfo"><code>SpectrumInfo</code></a> object, taken from the instrument database. The meaning of the parameters <code>polid</code> and <code>horn_name</code> is explained in the documentation for <a href="#Stripeline.detector"><code>detector</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L888-L896">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.fknee_hz" href="#Stripeline.fknee_hz"><code>Stripeline.fknee_hz</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">fknee_hz(db::InstrumentDB, polid::Integer; tsys_k = missing) -&gt; Tuple{Float64, Float64, Float64}
fknee_hz(db::InstrumentDB, horn_name::AbstractString; tsys_k = missing) -&gt; Tuple{Float64, Float64, Float64}</code></pre><p>Return the knee frequency for the selected detector, taken from the instrument database. The meaning of the parameters <code>polid</code> and <code>horn_name</code> is explained in the documentation for <a href="#Stripeline.detector"><code>detector</code></a>.</p><p>If <code>tsys_k</code> is specified, the system temperature is rescaled to the desired temperature of the load feeding the polarimeter, so that the 1/f component of the noise remains unchanged but the white noise plateau raises/lowers by an appropriate amount. Otherwise, the function returns the raw frequency taken from the instrument database.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L936-L950">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.tnoise" href="#Stripeline.tnoise"><code>Stripeline.tnoise</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">tnoise(db::InstrumentDB, polid::Integer) -&gt; NoiseTemperatureInfo
tnoise(db::InstrumentDB, horn_name::AbstractString) -&gt; NoiseTemperatureInfo</code></pre><p>Return a <a href="#Stripeline.NoiseTemperatureInfo"><code>NoiseTemperatureInfo</code></a> object, taken from the instrument database. The meaning of the parameters <code>polid</code> and <code>horn_name</code> is explained in the documentation for <a href="#Stripeline.detector"><code>detector</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L902-L910">source</a></section></article><h2 id="Loading-custom-databases"><a class="docs-heading-anchor" href="#Loading-custom-databases">Loading custom databases</a><a id="Loading-custom-databases-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-custom-databases" title="Permalink"></a></h2><p>It is not needed to load the default instrument database, as Stripeline provides a number of additional functions to build mock databases from dictionaries.</p><article class="docstring"><header><a class="docstring-binding" id="Stripeline.defaultdbfolder" href="#Stripeline.defaultdbfolder"><code>Stripeline.defaultdbfolder</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">defaultdbfolder()</code></pre><p>Return a string containing the (local) full path to the YAML files containing the reference instrument DB.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L813-L819">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.parsefpdict" href="#Stripeline.parsefpdict"><code>Stripeline.parsefpdict</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">parsefpdict(fpdict)</code></pre><p>Return a dictionary associating an horn name (e.g., <code>I0</code>) to a <code>Horn</code> object containing information about some horn in the STRIP focal plane. The information are parsed from <code>fpdict</code>, which should be a dictionary loaded from a YAML file. The default YAML file to be used is located in the folder returned by <a href="#Stripeline.defaultdbfolder"><code>defaultdbfolder</code></a> and is usually named <code>strip_focal_plane.yaml</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L568-L578">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stripeline.parsedetdict" href="#Stripeline.parsedetdict"><code>Stripeline.parsedetdict</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">parsedetdict(detdict)</code></pre><p>Return a dictionary associating an integer number to a <code>Detector</code> object containing information about the STRIP detector with the corresponding number. The information are parsed from <code>detdict</code>, which should be a dictionary loaded from a YAML file. The default YAML file to be used is located in the folder returned by <a href="#Stripeline.defaultdbfolder"><code>defaultdbfolder</code></a> and is usually named <code>strip_detectors.yaml</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/8422fbafef1ad3af65cdf955caddab1897681c7d/src/instrumentdb.jl#L763-L773">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../basic/">« Basic functions</a><a class="docs-footer-nextpage" href="../tod/">Time-ordered data »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.3 on <span class="colophon-date" title="Friday 8 March 2024 12:05">Friday 8 March 2024</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
